<!DOCTYPE html>
<html lang="en">
<head>
    <title>하나도 안어려움</title>

    <style>
        body {
            background: black;
            color: gray;
            font-weight: 700;
            font-size: 17px;
        }
        .area {
            background: khaki;
            border: 1px dotted gold;
        }
        .small {
            height: 300px;
        }
        .big {
            height: 500px;
        }
    </style>
</head>
<body>

    <h1>객체</h1>
    
    <p>
        property(속성) + value(속성값)를 한쌍으로 저장할 수 있는 구조<br>
        여러개의 속성을 하나의 변수에 담을 수 있게 쓰는 데이터 타입<br>

        ==> 자바했을 때 Map을 생각하면 됨 <br>

        - 객체는 중괄호 {}를 사용해서 선언하고 중괄호 안에
        객체가 가져야할 속성(property)를 정의함(속성:속성값)
        참고로 속성값으로는 모든 자료형의 값을 다 담을 수 있음
    </p>

    <pre>
        [ 표현법 ]
        const 객체명 = {
            속성명 : 속성값,
            속성명 : 속성값,
            ...
        }
    </pre>

    <div id="area" class="area big"></div>
    <button onclick="createObj();">자바스크립트객체는 진짜 별거없네</button>

    <script>
        function createObj() {

            // 상품의 정보를 저장해놓아야함
            // 신상인가 아닌가                  boolean
            // 상품명 - 스피릿다이어리케이스GS  String
            // 판매가 - 23500                   Number
            // 할인가 - 22400                   Number
            // 배송비 - 3000                    Number
            // 기종 - 갤럭시, 아이폰, 샤오미    array
            // 변수 -- 6개 * N
            const array = [true, "스피릿다이어리", 23500, 22400, 3000, 
                            ["갤럭시", "아이폰", "샤오미"], ];

            // 객체
            const phoneCase = {
                "newStatus" : true,
                "productName" : "스피릿다이어리",
                "realPrice" : 23500,
                "price" : 22400,
                "fee" : 3000,
                "model" : ["갤럭시", "아이폰", "샤오미"]
            };

            console.log(array);
            console.log(phoneCase);

            const area = document.getElementById("area");
            area.innerHTML += `배열 : ${array} <br> `;
            area.innerHTML += `객체 : ${phoneCase} <br> `;

            // 해당 객체 내부의 각 속성에 접근하는 방법!
            area.innerHTML += "<strong>방법 1. 객체명.속성명</strong><br>";
            area.innerHTML += `신상품 : ${phoneCase.newStatus} <br> 
                               상품명 : ${phoneCase.productName} <br>
                               가격 : ${phoneCase.realPrice} <br>
                               할인가 : ${phoneCase.price} <br>
                               배송비 : ${phoneCase.fee} <br>
                               기종 : ${phoneCase.model} <br><hr>`;

            // 방법 2.
            area.innerHTML += "<strong>방법 2. 객체명['속성명']</strong><br>";
            area.innerHTML += `신상품 : ${phoneCase["newStatus"]} <br> 
                               상품명 : ${phoneCase["productName"]} <br> `;
        }
    </script>

    <hr>

    <h5>2번 방법은 언제 필요하지?</h5>

    <button onclick="fn();">실행</button>
    <div id="area2" class="area small"></div>

    <script>

        function fn() {

            const phoneCase = {
                "price~" : 1500,
                "product name" : "뉴제네레이션케이스",
            };

            const area = document.getElementById("area2");
            area.innerHTML += phoneCase["product name"];

        }
    </script>

    <hr>

    <h3>* 객체가 가지고 있는 속성에 반복문 사용하기</h3>

    <p>
        인덱스 개념이 존재하지 않기 때문에 for loop문, for of문은 쓰기 힘듬<br />
        for in문을 사용해서 속성에 순차적으로 접근할 수 있음
    </p>

    <button>반복문</button>
    <div id="area3" class="area small"></div>
    <button onclick="loop();">버튼</button>

    <script>

        function loop() {

            const human = {
                name : "홍길동",
                age : 15,
            };
            
            const area = document.getElementById("area3");
            for(let key in human) {
                // console.log(key);
                // console.log(human.key);
                // 진짜 말 그대로 human객체의 key라는 속성에 접근
                // => . 사용불가

                area.innerHTML += `${human[key]} <br> `;
            }

            // for in문 사용 시 객체를 이용해서 반복했다면 반복할 때마다 해당 객체의
            // 속성명이 let 변수명에 담김
        }
    </script>

    <hr>

    <h3>* 객체의 메소드 속성</h3>

    <p>
        객체의 속성값 중 자료형이 함수자료형인 속성을 메소드라고 부른다.
    </p>

    <button onclick="method();">메소드 버튼</button>
    <div id="area4" class="area small"></div>

    <script>

        function method() {

            const area = document.getElementById("area4");

            let name = "신짱구";

            const mole = {
                name : "디그다",
                kind : "두더지",
                dig : function() { // 속성명이 함수명이 되므로 익명함수

                    area.innerHTML = `${this.kind}인 ${name}(이)가 땅을 팝니다. `;

                    // => 메소드 속성 안에서 같은 객체 내부에 있는 속성을
                    // 사용할 경우 this. 키워드를 붙여주어야 함.

                    // => 속성명 또는 변수명이 동일한 경우 this 키워드를 안붙이면
                    // 외부에 존재하는 변수가 호출됨!
                },
            };
            mole.dig();
        }
    </script>

    <h3>* in과 with</h3>

    <p>
        in : 객체 내부에 해당 속성이 존재하는지 확인하는 키워드 <br>
        with : 코드를 줄이는 용도
    </p>

    이    름 : <input type="text" id="name"> <br>
    국어점수 : <input type="text" id="kor"> <br>
    영어점수 : <input type="text" id="eng"> <br>

    <button onclick="info();">확인하기</button>
    <div id="area6" class="area big"></div>

    <script>

        function info() {
            // 객체 만들기 실습
            // 속성명 : 속성값
            // name : 사용자가 입력한 이름값
            // kor : 사용자가 입력한 국어점수
            // eng : 사용자가 입력한 영어점수
            // getSum : 점수의 합계를 계산해서 반환해주는 메소드
            // getAvg : 점수의 평균을 계산해서 반환해주는 메소드

            const studentName = document.getElementById("name").value;
            const korScore = document.getElementById("kor").value;
            const engScore = document.getElementById("eng").value;

            // console.log(studentName);
            // console.log(korScore);
            // console.log(engScore);

            const student = {
                name : studentName, 
                kor : korScore,
                eng : engScore,
                getSum : function() {
                   return Number(this.kor) + Number(this.eng);
                },
                getAvg : function() {
                   return this.getSum() / 2;
                },
                toString : function() {
                    return `학생명 : ${this.name} <br>
                            국어점수 : ${this.kor} <br>
                            영어점수 : ${this.eng} <br>
                            합계 : ${this.getSum} <br>
                            평균 : ${this.getAvg} <br> `;
                },
            };

            // console.log(student);

            const area = document.getElementById("area6");

            const arr = [1, 2, 3];
            console.log(typeof arr);

            area.innerHTML = `배열 : ${arr} <br> `;
            area.innerHTML += `객체 : ${student} <br> `;

            // 해당 객체에 속성이 존재하는가 ? '속성명' in 객체명 : boolean

            area.innerHTML += `student 객체에 name 속성이 있나요? ${"name" in student} <br> `;

            with (student) {
                console.log(kor);
                console.log(eng);
            }
        }
    </script>

    <hr />

    <h3>* 객체의 속성 추가하기 및 제거하기</h3>

    <button onclick="addProperty();">확인</button>
    <div id="area7" class="area small"></div>

    <button id="button">버튼</button>

    <script>

        function addProperty() {
            const arr = [];
            arr.push(1);

            console.log(arr);

            const btn = document.getElementById("button");
            // console.dir(btn);
            btn.onclick = function() {
                console.log("하이");
            };
            console.dir(btn);

            // **** 객체에 속성을 추가하는 방법
            const student = {};

            student.name = "홍길동";
            student.age = 15;

            // 이미 존재하는 속성명이 있다면 덮어 씌워짐
            student.age = 165;
            console.log(student);

            // 객체 속성 제거
            // delete(객체명.속성명)
            delete student.age;

            console.log(student);
            
            // with써볼까?
            with (student) {
                address = "한양";
            }   // with로 속성 추가하기는 불가능

            console.log(student);
        }
    </script>
</body>
</html>